@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor hca
@model YodaCodingForumFront.Models.UserModels.UserView
@{
    string userName = hca.HttpContext.Session.GetString("userName") ?? "Guest";
    ViewData["Title"] = "會員：" + userName + " - 會員資料 - 優答Yoda Coding";
    Layout = "~/Views/Shared/_ArticleLayout.cshtml";
}


<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="~/css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="~/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <title>Document</title>
</head>
<body>
    <div class="wrap ">

        <div class="banner">
            <div class="container d-flex justify-content-around">
                @if (userName == "Guest" || userName != Model.userinfo.UAccount)
                {
                    <img src="@String.Format("data:image/png;base64,{0}",Convert.ToBase64String(Model.userinfo.UImage))" alt="" class=" img-fluid user_img img-thumbnail">
                }
                else
                {
                    <a href="#updateImageModal" data-bs-toggle="modal" role="button">
                        <img src="@String.Format("data:image/png;base64,{0}",Convert.ToBase64String(Model.userinfo.UImage))" alt="" class=" img-fluid user_img img-thumbnail" id="userImage">
                    </a>
                }
                <div class="d-flex align-items-center">
                    <div>

                        <div class="user_name">@Model.userinfo.UAccount</div>


                        <div>會員點數:@Model.userinfo.UPoint</div>

                        <br />

                        <div>
                            @if (userName == Model.userinfo.UAccount)
                            {

                            }
                            else
                            {
                                <div style="display:none">@Model.userinfo.Uid</div>
                                @if (userName == "Guest")
                                {
                                    <button class="btn btn-success" onclick="noLogin()"><i class="fa fa-heart-o" aria-hidden="true"></i> 追蹤</button>
                                }
                                else
                                {
                                    if (Model.userinfo.UserHaveFollow>0)
                                    {
                                        <button class="btn btn-danger" id="followBtn">
                                            <i class="fa fa-heart" aria-hidden="true"></i> 追蹤
                                        </button>
                                    }
                                    else
                                    {
                                        <button class="btn btn-success" id="followBtn">
                                            <i class="fa fa-heart-o" aria-hidden="true"></i> 追蹤
                                        </button>
                                    }

                                }
                                <button class="btn btn-success ms-2"><i class="fa fa-comments-o" aria-hidden="true"></i> 私訊</button>
                            }


                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center user_banner">

            <ul class="nav justify-content-around drop-down-menu" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                    <div class="" id="pills-user-tab" data-bs-toggle="pill" data-bs-target="#pills-user" type="button" role="tab" aria-controls="pills-user">基本資料</div>
                </li>
                <li class="nav-item" role="presentation">
                    <div class="" id="pills-article-tab" data-bs-toggle="pill" data-bs-target="#pills-article" type="button" role="tab" aria-controls="pills-article">文章</div>
                </li>
                <li class="nav-item" role="presentation">
                    <div class="" id="pills-ask-tab" data-bs-toggle="pill" data-bs-target="#pills-ask" type="button" role="tab" aria-controls="pills-ask">發問</div>
                </li>
                <li class="nav-item" role="presentation">
                    <div class="" id="pills-follow-tab" data-bs-toggle="pill" data-bs-target="#pills-follow" type="button" role="tab" aria-controls="pills-follow">追蹤的會員</div>
                </li>

            </ul>


        </div>

        <div class="container">
            <div class="row justify-content-center ">
                <div class="col-12">
                    <div class="mt-4 col-12">
                        <div class="article_container">

                            <div class="tab-content" id="pills-tabContent">
                                <div class="tab-pane fade show active" id="pills-user" role="tabpanel" aria-labelledby="pills-user-tab">
                                    <div>
                                        <div class="d-flex justify-content-between">
                                            <h4>基本資料</h4>

                                            @if (userName == Model.userinfo.UAccount)
                                            {
                                                <button class="btn btn-success" onclick="location.href = '/user/useredit?u=@Model.userinfo.Uid'">編輯基本資料</button>
                                            }

                                        </div>

                                        <div class="user_main ">
                                            <table>

                                                <tr>


                                                    @if (userName == Model.userinfo.UAccount)
                                                    {
                                                        <th>姓名</th>
                                                        <td>@Model.userinfo.Uname</td>
                                                    }


                                                </tr>
                                                <tr>


                                                   
                                                        <th>暱稱</th>
                                                        <td>@Model.userinfo.UNickname</td>
                                                    


                                                </tr>
                                                <tr>

                                                    @if (userName == @Model.userinfo.UAccount)
                                                    {
                                                        <th>密碼</th>
                                                        <td>**********</td>
                                                    }

                                                </tr>
                                                <tr>



                                                   
                                                        <th>性別</th>
                                                        @if (@Model.userinfo.USax == "F")
                                                        {
                                                            <td>男</td>
                                                        }
                                                        else if (@Model.userinfo.USax == "M")
                                                        {
                                                            <td>女</td>
                                                        }
                                                        else
                                                        {
                                                            <td>不提供</td>
                                                        }
                                                    

                                                </tr>
                                                <tr>


                                                    @if (userName == Model.userinfo.UAccount)
                                                    {
                                                        <th>出生年月日</th>
                                                        <td>@Model.userinfo.UBirthday</td>
                                                    }

                                                </tr>
                                                <tr>


                                                    @if (userName == Model.userinfo.UAccount)
                                                    {
                                                        <th>地址</th>
                                                        <td>@Model.userinfo.UAddress</td>
                                                    }

                                                </tr>
                                                <tr>



                                                    @if (userName == Model.userinfo.UAccount)
                                                    {
                                                        <th>電話</th>
                                                        <td>@Model.userinfo.UPhone</td>
                                                    }

                                                </tr>


                                                <tr>
                                                    <th>工作經歷</th>

                                                    <td>@Model.userinfo.UExperience</td>

                                                </tr>
                                                <tr>
                                                    <th>專業成就</th>

                                                    <td>@Model.userinfo.UProfession</td>

                                                </tr>
                                                <tr>

                                            </table>
                                        </div>

                                    </div>

                                </div>



                                <div class="tab-pane fade" id="pills-article" role="tabpanel" aria-labelledby="pills-article-tab">
                                    <div>
                                        <div class="d-flex justify-content-between">
                                            <h4>文章</h4>
                                        </div>
                                        <nav class="mt-3">
                                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                <button class="nav-link active" id="nav-myarticle-tab" data-bs-toggle="tab" data-bs-target="#nav-myarticle" type="button" role="tab" aria-controls="nav-myarticle" aria-selected="true">我的文章</button>
                                                <button class="nav-link" id="nav-likearticle-tab" data-bs-toggle="tab" data-bs-target="#nav-likearticle" type="button" role="tab" aria-controls="nav-likearticle" aria-selected="false">點讚的文章</button>
                                                <button class="nav-link" id="nav-followarticle-tab" data-bs-toggle="tab" data-bs-target="#nav-followarticle" type="button" role="tab" aria-controls="nav-followarticle" aria-selected="false">追蹤的文章</button>
                                                <button class="nav-link" id="nav-heartarticle-tab" data-bs-toggle="tab" data-bs-target="#nav-heartarticle" type="button" role="tab" aria-controls="nav-heartarticle" aria-selected="false">收藏的文章</button>
                                            </div>
                                        </nav>
                                        <div class="tab-content" id="nav-tabContent">
                                            <div class="tab-pane fade show active" id="nav-myarticle" role="tabpanel" aria-labelledby="nav-myarticle-tab">
                                                @foreach (var article in Model.myarticle)
                                                {
                                                    <div class="card">
                                                        <div class="card-body cardbody_style">
                                                            <div class="row align-items-start">
                                                                <div class="col-1 view_group">
                                                                    <div>@article.Views</div>
                                                                    <div class="view_watch">瀏覽</div>
                                                                </div>

                                                                <div class="col-6">

                                                                    <a href="/article/article?a=@article.aid" class="index_title">@article.Title</a>
                                                                    <div>
                                                                        @foreach (var tag in @article.tag)
                                                                        {

                                                                            <span class="badge bg-success">@tag</span>
                                                                        }

                                                                    </div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-thumbs-o-up icon_color" aria-hidden="true"></i> @article.Like</div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i>@article.commendCount</div>
                                                                </div>
                                                                <div class="col-3">
                                                                    <a href="/user/user?account=@article.CreateUser" class="index_title">@article.CreateUser</a>
                                                                    <div>@article.CreateTime</div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                }


                                            </div>

                                            <div class="tab-pane fade" id="nav-likearticle" role="tabpanel" aria-labelledby="nav-likearticle-tab">
                                                @foreach (var article in Model.userlikeAndArticle)
                                                {
                                                    <div class="card">
                                                        <div class="card-body cardbody_style">
                                                            <div class="row align-items-start">
                                                                <div class="col-1 view_group">
                                                                    <div>@article.Views</div>
                                                                    <div class="view_watch">瀏覽</div>
                                                                </div>

                                                                <div class="col-6">

                                                                    <a href="/article/article?a=@article.aid" class="index_title">@article.Title</a>
                                                                    <div>
                                                                        @foreach (var tag in @article.tag)
                                                                        {

                                                                            <span class="badge bg-success">@tag</span>
                                                                        }

                                                                    </div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-thumbs-o-up icon_color" aria-hidden="true"></i> @article.Like</div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i>@article.commendCount</div>
                                                                </div>
                                                                <div class="col-3">
                                                                    <a href="/user/user?account=@article.CreateUser" class="index_title">@article.CreateUser</a>
                                                                    <div>@article.CreateTime</div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                            <div class="tab-pane fade" id="nav-followarticle" role="tabpanel" aria-labelledby="nav-followarticle-tab">
                                                @foreach (var article in Model.userfollowAndArticle)
                                                {
                                                    <div class="card">
                                                        <div class="card-body cardbody_style">
                                                            <div class="row align-items-start">
                                                                <div class="col-1 view_group">
                                                                    <div>@article.Views</div>
                                                                    <div class="view_watch">瀏覽</div>
                                                                </div>

                                                                <div class="col-6">

                                                                    <a href="/article/article?a=@article.aid" class="index_title">@article.Title</a>
                                                                    <div>
                                                                        @foreach (var tag in @article.tag)
                                                                        {

                                                                            <span class="badge bg-success">@tag</span>
                                                                        }

                                                                    </div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-thumbs-o-up icon_color" aria-hidden="true"></i> @article.Like</div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i>@article.commendCount</div>
                                                                </div>
                                                                <div class="col-3">
                                                                    <a href="/user/user?account=@article.CreateUser" class="index_title">@article.CreateUser</a>
                                                                    <div>@article.CreateTime</div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                }


                                            </div>
                                            <div class="tab-pane fade" id="nav-heartarticle" role="tabpanel" aria-labelledby="nav-heartarticle">

                                                @foreach (var article in Model.usercollocetAndArticle)
                                                {
                                                    <div class="card">
                                                        <div class="card-body cardbody_style">
                                                            <div class="row align-items-start">
                                                                <div class="col-1 view_group">
                                                                    <div>@article.Views</div>
                                                                    <div class="view_watch">瀏覽</div>
                                                                </div>

                                                                <div class="col-6">

                                                                    <a href="/article/article?a=@article.aid" class="index_title">@article.Title</a>
                                                                    <div>
                                                                        @foreach (var tag in @article.tag)
                                                                        {

                                                                            <span class="badge bg-success">@tag</span>
                                                                        }

                                                                    </div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-thumbs-o-up icon_color" aria-hidden="true"></i> @article.Like</div>
                                                                </div>
                                                                <div class="col-1 mt-2">
                                                                    <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i>@article.commendCount</div>
                                                                </div>
                                                                <div class="col-3">
                                                                    <a href="/user/user?account=@article.CreateUser" class="index_title">@article.CreateUser</a>
                                                                    <div>@article.CreateTime</div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                }

                                            </div>
                                        </div>



                                    </div>
                                </div>




                                <div class="tab-pane fade" id="pills-ask" role="tabpanel" aria-labelledby="pills-ask-tab">
                                    <div>
                                        <div class="d-flex justify-content-between">
                                            <h4>發問</h4>
                                        </div>
                                        <nav class="mt-3">
                                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                                <button class="nav-link active " id="nav-myqa-tab" data-bs-toggle="tab" data-bs-target="#nav-myqa" type="button" role="tab" aria-controls="nav-myqa" aria-selected="true">我的發問</button>
                                                <button class="nav-link" id="nav-likeqa-tab" data-bs-toggle="tab" data-bs-target="#nav-likeqa" type="button" role="tab" aria-controls="nav-likeqa" aria-selected="false">點讚的發問</button>
                                                <button class="nav-link" id="nav-followqa-tab" data-bs-toggle="tab" data-bs-target="#nav-followqa" type="button" role="tab" aria-controls="nav-followqa" aria-selected="false">追蹤的發問</button>
                                                <button class="nav-link" id="nav-heartqa-tab" data-bs-toggle="tab" data-bs-target="#nav-heartqa" type="button" role="tab" aria-controls="nav-heartqa" aria-selected="false">收藏的發問</button>
                                            </div>
                                        </nav>
                                        <div class="tab-content" id="nav-tabContent">
                                            <div class="tab-pane fade show active" id="nav-myqa" role="tabpanel" aria-labelledby="nav-myqa-tab">
                                                @foreach (var article in Model.myQuestion)
                                                {
                                                    if (article.Status == "F" || article.Status == "A")
                                                    {
                                                        <div class="card">
                                                            <div class="card-body cardbody_style">
                                                                <div class="row align-items-start">
                                                                    <div class="col-1 view_group">
                                                                        <div>@article.Views</div>
                                                                        <div class="view_watch">瀏覽</div>
                                                                    </div>

                                                                    <div class="col-6">
                                                                        <a href="/question/question?q=@article.aid" class="index_title">@article.Title</a>
                                                                        <div>
                                                                            @foreach (var tag in article.tag)
                                                                            {

                                                                                <a href="/Tag/Tagsearch?tagid=@tag.TagId">
                                                                                    <span class="badge bg-success">@tag.TagName</span>
                                                                                </a>
                                                                            }

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-1 mt-2">
                                                                        <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i> @article.commendCount</div>
                                                                    </div>
                                                                    <div class="col-3">
                                                                        <a href="/User/User?account=@article.CreateUser" target="_blank" class="index_title">@article.CreateUser</a>
                                                                        <div>@article.CreateTime</div>
                                                                    </div>
                                                                    @if (article.Status == "F")
                                                                    {

                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-check text-success fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-question text-danger fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }

                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                }
                                            </div>
                                            <div class="tab-pane fade" id="nav-likeqa" role="tabpanel" aria-labelledby="nav-likeqa-tab">
                                                @foreach (var article in Model.likeQuestion)
                                                {
                                                    if (article.Status == "F" || article.Status == "A")
                                                    {
                                                        <div class="card">
                                                            <div class="card-body cardbody_style">
                                                                <div class="row align-items-start">
                                                                    <div class="col-1 view_group">
                                                                        <div>@article.Views</div>
                                                                        <div class="view_watch">瀏覽</div>
                                                                    </div>

                                                                    <div class="col-6">
                                                                        <a href="/question/question?q=@article.aid" class="index_title">@article.Title</a>
                                                                        <div>
                                                                            @foreach (var tag in article.tag)
                                                                            {

                                                                                <a href="/Tag/Tagsearch?tagid=@tag.TagId">
                                                                                    <span class="badge bg-success">@tag.TagName</span>
                                                                                </a>
                                                                            }

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-1 mt-2">
                                                                        <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i> @article.commendCount</div>
                                                                    </div>
                                                                    <div class="col-3">
                                                                        <a href="/User/User?account=@article.CreateUser" target="_blank" class="index_title">@article.CreateUser</a>
                                                                        <div>@article.CreateTime</div>
                                                                    </div>
                                                                    @if (article.Status == "F")
                                                                    {

                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-check text-success fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-question text-danger fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }

                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                }
                                            </div>
                                            <div class="tab-pane fade" id="nav-followqa" role="tabpanel" aria-labelledby="nav-followqa-tab">
                                                @foreach (var article in Model.followQuestion)
                                                {
                                                    if (article.Status == "F" || article.Status == "A")
                                                    {
                                                        <div class="card">
                                                            <div class="card-body cardbody_style">
                                                                <div class="row align-items-start">
                                                                    <div class="col-1 view_group">
                                                                        <div>@article.Views</div>
                                                                        <div class="view_watch">瀏覽</div>
                                                                    </div>

                                                                    <div class="col-6">
                                                                        <a href="/question/question?q=@article.aid" class="index_title">@article.Title</a>
                                                                        <div>
                                                                            @foreach (var tag in article.tag)
                                                                            {

                                                                                <a href="/Tag/Tagsearch?tagid=@tag.TagId">
                                                                                    <span class="badge bg-success">@tag.TagName</span>
                                                                                </a>
                                                                            }

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-1 mt-2">
                                                                        <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i> @article.commendCount</div>
                                                                    </div>
                                                                    <div class="col-3">
                                                                        <a href="/User/User?account=@article.CreateUser" target="_blank" class="index_title">@article.CreateUser</a>
                                                                        <div>@article.CreateTime</div>
                                                                    </div>
                                                                    @if (article.Status == "F")
                                                                    {

                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-check text-success fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-question text-danger fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }

                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                }



                                            </div>
                                            <div class="tab-pane fade" id="nav-heartqa" role="tabpanel" aria-labelledby="nav-heartqa">
                                                @foreach (var article in Model.collocetQuestion)
                                                {
                                                    if (article.Status == "F" || article.Status == "A")
                                                    {
                                                        <div class="card">
                                                            <div class="card-body cardbody_style">
                                                                <div class="row align-items-start">
                                                                    <div class="col-1 view_group">
                                                                        <div>@article.Views</div>
                                                                        <div class="view_watch">瀏覽</div>
                                                                    </div>

                                                                    <div class="col-6">
                                                                        <a href="/question/question?q=@article.aid" class="index_title">@article.Title</a>
                                                                        <div>
                                                                            @foreach (var tag in article.tag)
                                                                            {

                                                                                <a href="/Tag/Tagsearch?tagid=@tag.TagId">
                                                                                    <span class="badge bg-success">@tag.TagName</span>
                                                                                </a>
                                                                            }

                                                                        </div>
                                                                    </div>
                                                                    <div class="col-1 mt-2">
                                                                        <div><i class="fa fa-commenting-o icon_color" aria-hidden="true"></i> @article.commendCount</div>
                                                                    </div>
                                                                    <div class="col-3">
                                                                        <a href="/User/User?account=@article.CreateUser" target="_blank" class="index_title">@article.CreateUser</a>
                                                                        <div>@article.CreateTime</div>
                                                                    </div>
                                                                    @if (article.Status == "F")
                                                                    {

                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-check text-success fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="col-1 align-self-center">
                                                                            <div class=""><i class="fa fa-question text-danger fa-lg" aria-hidden="true"></i></div>
                                                                        </div>
                                                                    }

                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                }

                                            </div>
                                        </div>




                                    </div>
                                </div>
                                <div class="tab-pane fade" id="pills-follow" role="tabpanel" aria-labelledby="pills-follow-tab">
                                    <div>
                                        <div class="d-flex justify-content-between">
                                            <h4>追蹤的會員</h4>
                                        </div>
                                        @foreach (var follower in Model.follower)
                                        {
                                            <div class="mt-1 d-flex flex-row user_follow_member">
                                                <img src="@String.Format("data:image/png;base64,{0}",Convert.ToBase64String(follower.FollowerImg))" class=" img-fluid article_img">
                                                <div class="article_author align-self-center col-10"><a href="/user/user?account=@follower.FollowerUserAccount">@follower.FollowerUserAccount</a> </div>
                                                @if (userName == follower.Createuser)
                                                {
                                                    <a href="/user/followerDelete/@follower.FollowerUserIdID/@follower.UserID"><button class="btn btn-success ">取消追蹤</button></a>
                                                }

                                            </div>
                                        }

                                    </div>
                                </div>

                            </div>





                        </div>



                    </div>

                </div>




            </div>


        </div>



        <div class="modal fade" id="updateImageModal" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <form action="@Url.Action("UploadImage", "User")" method="post" enctype="multipart/form-data">
                    <div class="modal-content">

                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalToggleLabel">更換會員圖片</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-body">
                            <input class="btn btn-outline-secondary" type="file" accept=".png, .jpg, .jpeg" name="File" id="File" />
                        </div>

                        <div class="modal-footer">
                            <button type="submit" class="btn btn-success" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal">上傳</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>


    </div>


    <script src="~/examples/js/jquery.min.js"></script>
    <script src="~/lib/marked.min.js"></script>
    <script src="~/lib/prettify.min.js"></script>
    <script src="~/editormd.js"></script>
    <script type="text/javascript">
       $(document).ready(function () {
           function followUser(type, targetType, userDo, clickItem) {
        $.post("/article/userCollection", {
            type: type,
            userName: "@userName",
            targetID: $(clickItem).prev("div").text(),
            targetType: targetType,
            userDo: userDo
        }, function (response) {
            switch (response) {
                case "followUser":
                    $(clickItem).children().first().toggleClass("fa-heart");
                    $(clickItem).children().first().toggleClass("fa-heart-o");
                    $(clickItem).toggleClass("btn-danger");
                    $(clickItem).toggleClass("btn-success");
                    break;
                default:
                    alert("錯誤");
                    break;
            }
        });
           };

           function pleaseLogin() {
               document.getElementById("loginBtn").click();
           };

           noLogin = function () {
               pleaseLogin();
           };

           $("#followBtn").on("click", function () {
               if ($(this).children().first().hasClass("fa-heart-o")) {
                   followUser("follow", "U", "up", "#followBtn");
               }
               else {
                   followUser("follow", "U", "down", "#followBtn");
               }
           });
       });
    </script>

</body>
</html>